{
    "swagger": "2.0",
    "info": {
        "title": "TRM API v1",
        "description": "TRM API",
        "version": "1.0.0"
    },
    "host": "127.0.0.1:3001",
    "schemes": [
        "http"
    ],
    "basePath": "/api",
    "produces": [
        "application/json"
    ],
    "securityDefinitions": {
        "strava_oauth": {
            "type": "oauth2",
            "flow": "accessCode",
            "authorizationUrl": "https://www.strava.com/api/v3/oauth/authorize",
            "tokenUrl": "https://www.strava.com/api/v3/oauth/token",
            "scopes": {
                "read": "Read public segments, public routes, public profile data, public posts, public events, club feeds, and leaderboards",
                "read_all": "Read private routes, private segments, and private events for the user",
                "profile:read_all": "Read all profile information even if the user has set their profile visibility to Followers or Only You",
                "profile:write": "Update the user's weight and Functional Threshold Power (FTP), and access to star or unstar segments on their behalf",
                "activity:read": "Read the user's activity data for activities that are visible to Everyone and Followers, excluding privacy zone data",
                "activity:read_all": "The same access as activity:read, plus privacy zone data and access to read the user's activities with visibility set to Only You",
                "activity:write": "Access to create manual activities and uploads, and access to edit any activities that are visible to the app, based on activity read access level"
            }
        }
    },
    "security": [
        {
            "strava_oauth": [
                "public"
            ]
        }
    ],
    "parameters": {
        "page": {
            "name": "page",
            "in": "query",
            "description": "Page number.",
            "type": "integer"
        },
        "perPage": {
            "name": "per_page",
            "in": "query",
            "description": "Number of items per page. Defaults to 30.",
            "type": "integer",
            "default": 30
        }
    },
    "paths": {
        "/companies": {
            "post": {
                "operationId": "newcompanies",
                "summary": "Create new company",
                "description": "Create new company",
                "tags": [
                    "Custom API"
                ],
                "responses": {
                    "200": {
                        "description": "redirect url including code"
                    }
                }
            }
        },
        "/companies/?page=1&limit=10": {
            "get": {
                "operationId": "getcompanies",
                "summary": "getcompanies list",
                "description": "getcompanies list",
                "tags": [
                    "Custom API"
                ],
                "parameters": [
                    {
                        "name": "code",
                        "in": "json",
                        "description": "The authorized code from Strava",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The activity's detailed representation.",
                        "examples": {
                            "docs": [
                                {
                                    "name": "test",
                                    "phone": 23232,
                                    "updatedAt": "2019-11-26T14:32:14.160Z",
                                    "createdAt": "2019-11-26T14:32:14.160Z",
                                    "id": "5ddd376e00781c6edcecb973"
                                }
                            ],
                            "total": 1,
                            "limit": 10,
                            "page": "1",
                            "pages": 1,
                            "success": true
                        },
                        "default": {
                            "description": "Unexpected error."
                        }
                    }
                }
            }
        }
        
    }
}